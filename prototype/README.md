This is all work in progress. I'm trying to come up with clear API before I start implementing
